<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0f0505">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <meta name="mobile-web-app-capable" content="yes">

    <title>Pizzaria Top Baiana</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

    <div id="toast-box"></div>

    <section id="home-screen" class="screen active">
        <div class="overlay"></div>
        <div class="content-home">
            
            <div class="logo-area">
                <img src="top baiana sem fundo.png" alt="Logo Top Baiana" class="logo-main">
            </div>

            <h1 class="main-title">A MELHOR<br><span class="highlight">DA REGIÃO</span></h1>

            <div class="hours-container">
                <h3><i class="far fa-clock"></i> ESTAMOS ABERTOS</h3>
                <div class="badge-group">
                    <div class="badge">
                        <span class="days">SEG A SEX</span>
                        <span class="time">17:00 - 23:00</span>
                    </div>
                    <div class="badge">
                        <span class="days">DOM E FERIADOS</span>
                        <span class="time">16:30 - 23:00</span>
                    </div>
                </div>
            </div>

            <button id="btn-cardapio" class="cta-button pulse" onclick="abrirCardapio()">
                FAZER PEDIDO <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </section>

    <section id="app-screen" class="screen">
        
        <header class="app-header">
            <button id="back-home-btn" aria-label="Voltar">
                <i class="fas fa-arrow-left"></i>
            </button>
            <h2 id="header-title">Cardápio</h2>
            <div class="cart-icon-wrap" onclick="irParaCarrinho()">
                <i class="fas fa-shopping-bag"></i>
                <span id="cart-count" class="badge-count">0</span>
            </div>
        </header>

        <div class="app-content">

            <div id="tab-pedidos" class="tab-content active">
                <div class="category-section">
                    <h3 class="cat-title"><i class="fas fa-pizza-slice"></i> Pizzas Tradicionais</h3>
                    <div class="menu-grid" id="grid-pizzas">
                        
                        <div class="item-card" data-id="1" data-name="Pizza Calabresa" data-price="60.00">
                            <div class="card-img"><i class="fas fa-pizza-slice"></i></div>
                            <div class="card-details">
                                <h4>Calabresa</h4>
                                <p>Mussarela, calabresa, cebola, orégano.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 60,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                        <div class="item-card" data-id="2" data-name="Frango c/ Catupiry" data-price="60.00">
                            <div class="card-img"><i class="fas fa-drumstick-bite"></i></div>
                            <div class="card-details">
                                <h4>Frango c/ Catupiry</h4>
                                <p>Frango desfiado, catupiry original e milho.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 60,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                        <div class="item-card" data-id="3" data-name="Pizza Arrumadinho" data-price="60.00">
                            <div class="card-img"><i class="fas fa-sun"></i></div>
                            <div class="card-details">
                                <h4>Arrumadinho</h4>
                                <p>Carne do sol, calabresa, queijo coalho e cebola.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 60,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                        <div class="item-card" data-id="4" data-name="Pizza Top Baiana" data-price="60.00">
                            <div class="card-img"><i class="fas fa-star"></i></div>
                            <div class="card-details">
                                <h4>Top Baiana</h4>
                                <p>A especial da casa: Tudo que você tem direito.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 60,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                         <div class="item-card" data-id="9" data-name="Portuguesa" data-price="65.00">
                            <div class="card-img"><i class="fas fa-egg"></i></div>
                            <div class="card-details">
                                <h4>Portuguesa</h4>
                                <p>Presunto, ovos, cebola, ervilha e mussarela.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 65,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                        <div class="item-card" data-id="10" data-name="Quatro Queijos" data-price="68.00">
                            <div class="card-img"><i class="fas fa-cheese"></i></div>
                            <div class="card-details">
                                <h4>Quatro Queijos</h4>
                                <p>Mussarela, provolone, parmesão e gorgonzola.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 68,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                        <div class="item-card" data-id="11" data-name="Marguerita" data-price="60.00">
                            <div class="card-img"><i class="fas fa-leaf"></i></div>
                            <div class="card-details">
                                <h4>Marguerita</h4>
                                <p>Mussarela, rodelas de tomate e manjericão fresco.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 60,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>

                        <div class="item-card" data-id="12" data-name="Bacon com Milho" data-price="62.00">
                            <div class="card-img"><i class="fas fa-bacon"></i></div>
                            <div class="card-details">
                                <h4>Bacon com Milho</h4>
                                <p>Mussarela, bacon crocante em cubos e milho.</p>
                                <div class="card-footer">
                                    <span class="price">R$ 62,00</span>
                                    <button class="add-btn">Adicionar</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="category-section">
                    <h3 class="cat-title"><i class="fas fa-wine-bottle"></i> Bebidas</h3>
                    <div class="menu-grid compact">
                        <div class="item-card mini" data-id="6" data-name="Pepsi 1L" data-price="8.00">
                            <div class="card-img"><i class="fas fa-wine-bottle"></i></div>
                            <div class="card-details">
                                <h4>Pepsi 1L</h4>
                                <div class="card-footer">
                                    <span class="price">R$ 8,00</span>
                                    <button class="add-btn icon-only"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="item-card mini" data-id="7" data-name="Guaraná 1L" data-price="8.00">
                            <div class="card-img"><i class="fas fa-wine-bottle"></i></div>
                            <div class="card-details">
                                <h4>Guaraná 1L</h4>
                                <div class="card-footer">
                                    <span class="price">R$ 8,00</span>
                                    <button class="add-btn icon-only"><i class="fas fa-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-promocoes" class="tab-content">
                <div class="promo-banner">
                    <div class="promo-text">
                        <h3>OFERTAS RELÂMPAGO</h3>
                        <p>Aproveite antes que acabe!</p>
                    </div>
                    <i class="fas fa-bolt promo-icon"></i>
                </div>
                
                <div class="menu-grid">
                    <div class="item-card promo" data-id="99" data-name="PROMO: 2 Calabresas" data-price="100.00">
                        <span class="tag-discount">-20% OFF</span>
                        <div class="card-details">
                            <h4>Dupla Calabresa Gigante</h4>
                            <p>Ideal para famílias grandes.</p>
                            <div class="card-footer">
                                <div class="price-group">
                                    <span class="old-price">R$ 120</span>
                                    <span class="price">R$ 100,00</span>
                                </div>
                                <button class="add-btn">Eu Quero!</button>
                            </div>
                        </div>
                    </div>

                    <div class="item-card promo" data-id="30" data-name="PROMO: Combo Família" data-price="85.00">
                        <span class="tag-discount" style="background: #ffb700; color: black;">POPULAR</span>
                        <div class="card-details">
                            <h4>Combo Família</h4>
                            <p>1 Pizza G + 1 Refri 2L.</p>
                            <div class="card-footer">
                                <div class="price-group">
                                    <span class="old-price">R$ 95,00</span>
                                    <span class="price">R$ 85,00</span>
                                </div>
                                <button class="add-btn">Eu Quero!</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tab-carrinho" class="tab-content">
                <div class="cart-panel">
                    <div id="cart-items-list" class="cart-list"></div>

                    <div class="cart-summary">
                        <div class="summary-row">
                            <span>Subtotal</span>
                            <span id="cart-subtotal">R$ 0,00</span>
                        </div>
                        <div class="summary-row total">
                            <span>Total</span>
                            <span id="cart-total-value">R$ 0,00</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-wallet"></i> Pagamento</label>
                        <select id="payment-select">
                            <option value="Pix">Pix (Chave Celular)</option>
                            <option value="Cartão de Crédito">Cartão de Crédito (Maquininha)</option>
                            <option value="Cartão de Débito">Cartão de Débito</option>
                            <option value="Dinheiro">Dinheiro (Informar Troco)</option>
                        </select>
                    </div>

                    <div id="pix-area" style="display: none; text-align: center; margin-top: 15px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; border: 1px solid rgba(255,255,255,0.1);">
                        <p style="color: #ffb700; margin-bottom: 10px; font-weight: bold;">
                            <i class="fas fa-qrcode"></i> Escaneie ou Copie:
                        </p>
                        
                        <img id="qrcode-img" src="qrcode.png" alt="QR Code Pix" style="width: 150px; height: 150px; border-radius: 10px; margin-bottom: 15px; border: 4px solid #fff;">
                        
                        <div style="display: flex; gap: 10px; justify-content: center; align-items: center;">
                            <input type="text" value="71992010947" id="pix-key" readonly 
                                   style="color: #fff; background: rgba(0,0,0,0.3); border: 1px solid #555; padding: 10px; border-radius: 8px; text-align: center; width: 100%; max-width: 160px; font-size: 0.9rem;">
                            
                            <button onclick="copiarChavePix()" class="add-btn" style="border-radius: 8px; padding: 10px 15px; cursor: pointer;">
                                <i class="fas fa-copy"></i>
                            </button>
                        </div>
                        <p style="font-size: 0.75rem; color: #aaa; margin-top: 5px;">*Envie o comprovante no WhatsApp</p>
                    </div>

                    <div class="form-group" id="troco-div" style="display:none;">
                        <label>Troco para quanto?</label>
                        <input type="number" id="troco-input" placeholder="Ex: 50" oninput="if(this.value.length > 3) this.value = this.value.slice(0, 3);">
                    </div>

                    <div class="form-group">
                        <label><i class="fas fa-map-marker-alt"></i> Endereço / Obs</label>
                        <textarea id="address-input" rows="2" placeholder="Rua, Número, Bairro e Ponto de Referência..."></textarea>
                    </div>

                    <button id="checkout-btn" class="checkout-button" disabled>
                        <span>Enviar Pedido</span>
                        <i class="fab fa-whatsapp"></i>
                    </button>
                </div>
            </div>

            <div id="tab-perfil" class="tab-content">
                <div class="cart-panel profile-wrapper">
                    
                    <div class="profile-header">
                        <i class="fas fa-user-astronaut"></i>
                        <h3>Cartão de Membro</h3>
                        <p>ID: VIP-CLIENT</p>
                    </div>

                    <div class="desktop-row">
                        <div class="form-group">
                            <label>NOME CADASTRADO</label>
                            <input type="text" id="perfil-name" placeholder="Seu nome">
                        </div>

                        <div class="form-group">
                            <label>TELEFONE (WHATSAPP)</label>
                            <input type="tel" id="perfil-phone" placeholder="(71) 99999-9999" maxlength="15">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ENDEREÇO PADRÃO</label>
                        <textarea id="perfil-address" rows="3" placeholder="Rua, Número, Bairro e Ponto de Referência..."></textarea>
                    </div>

                    <button class="save-user-btn" onclick="salvarPerfilCompleto()">
                        <i class="fas fa-save"></i> Salvar Dados
                    </button>

                    <button class="logout-btn" onclick="fazerLogout()">
                        <i class="fas fa-power-off"></i> Desconectar
                    </button>
                </div>
            </div>

        </div> 
        
        <nav class="bottom-nav">
            <div class="nav-item active" data-target="tab-pedidos">
                <div class="icon-box"><i class="fas fa-book-open"></i></div>
                <span>Cardápio</span>
            </div>
            <div class="nav-item" data-target="tab-promocoes">
                <div class="icon-box"><i class="fas fa-bolt"></i></div>
                <span>Ofertas</span>
            </div>
            <div class="nav-item" data-target="tab-carrinho">
                <div class="icon-box"><i class="fas fa-shopping-cart"></i></div>
                <span>Carrinho</span>
            </div>
            <div class="nav-item" data-target="tab-perfil">
                <div class="icon-box"><i class="fas fa-user-circle"></i></div>
                <span>Perfil</span>
            </div>
        </nav>

    </section>

    <div id="modal-cadastro" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h3><i class="fas fa-user-lock"></i> Identificação</h3>
                <button class="close-modal" onclick="fecharModal()">×</button>
            </div>
            <div class="modal-body">
                <p>Precisamos saber quem você é para entregar seu pedido!</p>
                <div class="form-group">
                    <label>Seu Nome Completo</label>
                    <input type="text" id="client-name" placeholder="Ex: João Silva">
                </div>
                <div class="form-group">
                    <label>Seu WhatsApp / Telefone</label>
                    <input type="tel" id="client-phone" placeholder="Ex: 71 99999-9999">
                </div>
                <button class="save-user-btn" onclick="salvarCliente()">
                    Salvar e Continuar
                </button>
            </div>
        </div>
    </div>

    <div id="modal-opcoes" class="modal-overlay">
        <div class="modal-box">
            <div class="modal-header">
                <h3 id="modal-item-name">Personalizar</h3>
                <button class="close-modal" onclick="fecharModalOpcoes()">×</button>
            </div>
            <div class="modal-body">
                <div id="lista-adicionais" class="adicionais-container"></div>
                <div class="form-group">
                    <label><i class="fas fa-comment-dots"></i> Observações</label>
                    <textarea id="obs-item" placeholder="Ex: Tirar cebola, caprichar no orégano..."></textarea>
                </div>
                <div class="modal-footer-price">
                    <span>Total do Item:</span>
                    <span id="modal-item-total" class="price-big">R$ 0,00</span>
                </div>
                <button class="save-user-btn" onclick="confirmarAdicaoCarrinho()">
                    Adicionar ao Pedido
                </button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
